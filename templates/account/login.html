{% extends "account/base_entrance.html" %}
{% load i18n static allauth account %}

{% block extra_head %}
    <link rel="stylesheet" href="{% static 'account/login.css' %}">
{% endblock extra_head %}

{% block head_title %}{% trans "Entrar" %}{% endblock %}

{% block body %}

    {% block content %}
        <div class="auth-container fade-in">
            <img src="{% static 'account/logo.png' %}" alt="Logo" class="logo" />
            <h1>Bem-vindo de volta!</h1>
            <p class="subtitle">Acesse seu painel financeiro de forma rÃ¡pida e segura.</p>

            <form method="post" action="{% url 'account_login' %}">
                {% csrf_token %}
                
                {# ðŸŸ¢ 1. Renderiza os campos individualmente ðŸŸ¢ #}
                {% element fields form=form %}
                    {# Apenas o campo de login e senha #}
                    {% for field in form %}
                        {% if field.label_tag and field.field.widget.input_type != 'hidden' %}
                            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                        {% endif %}
                        {{ field }}
                        {% if field.help_text %}
                            <small class="form-text text-muted">{{ field.help_text }}</small>
                        {% endif %}
                        {{ field.errors }}
                    {% endfor %}
                {% endelement %}
                
                <button type="submit">Entrar</button>
            </form>

            <div class="auth-links">
                <p>
                    <a href="{% url 'account_reset_password' %}">Esqueceu sua senha?</a>
                </p>
                <p>NÃ£o tem uma conta? <a href="{% url 'account_signup' %}">Cadastre-se</a></p>
            </div>
            
        </div>
    {% endblock content %}

    {% block extra_body %}
    {% endblock extra_body %}
{% endblock body %}